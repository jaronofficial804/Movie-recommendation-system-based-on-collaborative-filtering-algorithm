<!-- index.html -->
{% extends "base.html" %}

{% block content %}
<div class="section">
    <h2>热门电影</h2>
    <div class="movie-grid">
        {% for movie in top_movies %}
        <div class="movie-card">
            <h3>{{ movie.title }} ({{ movie.year }})</h3>
            <p>IMDb评分: {{ movie.imdb_rating }}</p>
            <p>平均评分: {{ "%.1f"|format(movie.avg_rating) }}</p>
            <p>时长: {{ movie.duration }}</p>
            <p>类型: {{ movie.genre }}</p>
        </div>
        {% endfor %}
    </div>
</div>

<div class="section">
    <h2>获取个性化推荐</h2>
    <form action="/recommend" method="POST">
        <div class="form-group">
            <label for="user_id">选择用户ID:</label>
            <select name="user_id" id="user_id" required>
                {% for user_id in user_ids %}
                    <option value="{{ user_id }}">用户 {{ user_id }}</option>
                {% endfor %}
            </select>
        </div>
        <button type="submit" class="btn">获取推荐</button>
    </form>
</div>
{% endblock %}